version: "2.1"
services:
    api:
        image: teamcloudboost/spring-boot:backend
        container_name: spring-boot-backend
        ports:
            - "8080:8080"
        depends_on:
            db:
                condition: service_healthy
    db:
        container_name: teamcloudboost/spring-boot:dataase
        image: mysql
        ports:
            - "3306"
        entrypoint: [ "mysqld"]
        healthcheck:
            test: ["CMD", "mysqladmin" ,"ping", "-h", "localhost", "-uroot", "-pStrongPass"]
            timeout: 20s
            retries: 10
    


